{% extends "layouts/base.html" %}

{% block title %} Sign Up {% endblock %}

{% block content %}
<div class="register-wrapper d-flex justify-content-center align-items-center" style="min-height:90vh;">
    <div class="card shadow-lg border-0 register-card" style="max-width:900px; border-radius: 18px; overflow:hidden;">
        <div class="row g-0">

            <!-- Left Panel -->
            <div class="col-md-5 d-none d-md-flex flex-column justify-content-center align-items-center text-center left-panel p-4 bg-light">
                <h3 class="fw-bold mb-3">Welcome</h3>
                <p class="small opacity-75">
                    Welcome to the Rice Disease Diagnosis System<br>
                    សូមស្វាគមន៍មកកាន់ប្រព័ន្ធ វិនិច្ឆ័យជំងឺស្រូវ
                </p>
                <img src="{{ url_for('static', filename='images/Rigester_logo.jpg') }}"
                     style="max-width:70%; border-radius:15px;" class="mt-3">
            </div>

            <!-- Right Panel / Form -->
            <div class="col-md-7 p-5">
                <h3 class="fw-bold mb-4 text-center">
                    <i class="bi bi-shield-lock-fill me-2 text-success"></i>
                    Create Account
                </h3>

                <form method="POST" action="{{ url_for('auth.register') }}">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token }}">

                    <!-- Username -->
                    <div class="mb-3">
                        <label for="username" class="form-label">Username</label>
                        <input 
                            type="text"
                            class="form-control"
                            id="username"
                            name="username"
                            placeholder="Choose a username"
                            value="{{ username or ''}}"
                            required
                            autofocus>
                    </div>

                    <!-- Email -->
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input 
                            type="email"
                            class="form-control"
                            id="email"
                            name="email"
                            placeholder="Your email address"
                            value="{{ email or ''}}"
                            required>
                    </div>

                    <!-- Full Name -->
                    <div class="mb-3">
                        <label for="full_name" class="form-label">Full Name</label>
                        <input 
                            type="text"
                            class="form-control"
                            id="full_name"
                            name="full_name"
                            placeholder="Your full name"
                            value="{{ full_name or ''}}"
                            required>
                    </div>

                    <!-- Password -->
                    <div class="mb-3">
                        <label for="password" class="form-label">Password</label>
                        <input 
                            type="password"
                            class="form-control"
                            id="password"
                            name="password"
                            placeholder="Enter a strong password"
                            required>
                    </div>

                    <!-- Confirm Password -->
                    <div class="mb-3">
                        <label for="confirm_password" class="form-label">Confirm Password</label>
                        <input 
                            type="password"
                            class="form-control"
                            id="confirm_password"
                            name="confirm_password"
                            placeholder="Re-enter your password"
                            required>
                    </div>

                    <!-- Submit Button -->
                    <div class="d-grid mb-3">
                        <button type="submit" class="btn btn-success fw-semibold">Sign Up</button>
                    </div>
                </form>

                <hr>

                <p class="mb-0 small text-center">
                    Already have an account?
                    <a href="{{ url_for('auth.login') }}" class="fw-semibold text-success text-decoration-none">Sign In</a>
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
